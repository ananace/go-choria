package client

var templates = map[string]string{
	"action":        "e3sgR2VuZXJhdGVkV2FybmluZyB9fQoKcGFja2FnZSB7eyAuUGFja2FnZSB9fQoKaW1wb3J0ICgKCSJjb250ZXh0IgoJImVuY29kaW5nL2pzb24iCgkiZm10IgoJImdpdGh1Yi5jb20vY2hvcmlhLWlvL2dvLWNob3JpYS9wcm90b2NvbCIKCXJwY2NsaWVudCAiZ2l0aHViLmNvbS9jaG9yaWEtaW8vZ28tY2hvcmlhL3Byb3ZpZGVycy9hZ2VudC9tY29ycGMvY2xpZW50IgopCgovLyB7eyAuQWN0aW9uTmFtZSB8IFNuYWtlVG9DYW1lbCB9fVJlcXVlc3RlciBwZXJmb3JtcyBhIFJQQyByZXF1ZXN0IHRvIHt7IC5BZ2VudE5hbWUgfCBUb0xvd2VyIH19I3t7IC5BY3Rpb25OYW1lIHwgVG9Mb3dlciB9fQp0eXBlIHt7IC5BY3Rpb25OYW1lIHwgU25ha2VUb0NhbWVsIH19UmVxdWVzdGVyIHN0cnVjdCB7CglyICAgICpyZXF1ZXN0ZXIKCW91dGMgY2hhbiAqe3sgLkFjdGlvbk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1PdXRwdXQKfQoKLy8ge3sgLkFjdGlvbk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1PdXRwdXQgaXMgdGhlIG91dHB1dCBmcm9tIHRoZSB7eyAuQWN0aW9uTmFtZSB8IFRvTG93ZXIgfX0gYWN0aW9uCnR5cGUge3sgLkFjdGlvbk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1PdXRwdXQgc3RydWN0IHsKCWRldGFpbHMgKlJlc3VsdERldGFpbHMKCXJlcGx5ICAgbWFwW3N0cmluZ11pbnRlcmZhY2V7fQp9CgovLyB7eyAuQWN0aW9uTmFtZSB8IFNuYWtlVG9DYW1lbCB9fVJlc3VsdCBpcyB0aGUgcmVzdWx0IGZyb20gYSB7eyAuQWN0aW9uTmFtZSB8IFRvTG93ZXIgfX0gYWN0aW9uCnR5cGUge3sgLkFjdGlvbk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1SZXN1bHQgc3RydWN0IHsKCXN0YXRzICAgKnJwY2NsaWVudC5TdGF0cwoJb3V0cHV0cyBbXSp7eyAuQWN0aW9uTmFtZSB8IFNuYWtlVG9DYW1lbCB9fU91dHB1dAp9CgovLyBTdGF0cyBpcyB0aGUgcnBjIHJlcXVlc3Qgc3RhdHMKZnVuYyAoZCAqe3sgLkFjdGlvbk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1SZXN1bHQpIFN0YXRzKCkgU3RhdHMgewoJcmV0dXJuIGQuc3RhdHMKfQoKLy8gUmVzdWx0RGV0YWlscyBpcyB0aGUgZGV0YWlscyBhYm91dCB0aGUgcmVxdWVzdApmdW5jIChkICp7eyAuQWN0aW9uTmFtZSB8IFNuYWtlVG9DYW1lbCB9fU91dHB1dCkgUmVzdWx0RGV0YWlscygpICpSZXN1bHREZXRhaWxzIHsKCXJldHVybiBkLmRldGFpbHMKfQoKLy8gSGFzaE1hcCBpcyB0aGUgcmF3IG91dHB1dCBkYXRhCmZ1bmMgKGQgKnt7IC5BY3Rpb25OYW1lIHwgU25ha2VUb0NhbWVsIH19T3V0cHV0KSBIYXNoTWFwKCkgbWFwW3N0cmluZ11pbnRlcmZhY2V7fSB7CglyZXR1cm4gZC5yZXBseQp9CgovLyBKU09OIGlzIHRoZSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvdXRwdXQgZGF0YQpmdW5jIChkICp7eyAuQWN0aW9uTmFtZSB8IFNuYWtlVG9DYW1lbCB9fU91dHB1dCkgSlNPTigpIChbXWJ5dGUsIGVycm9yKSB7CglyZXR1cm4ganNvbi5NYXJzaGFsKGQucmVwbHkpCn0KCi8vIFBhcnNlT3V0cHV0IHBhcnNlcyB0aGUgcmVzdWx0IHZhbHVlIGZyb20gdGhlIHt7IC5BY3Rpb25OYW1lIHwgU25ha2VUb0NhbWVsIH19IGFjdGlvbiBpbnRvIHRhcmdldApmdW5jIChkICp7eyAkLkFjdGlvbk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1PdXRwdXQpIFBhcnNle3sgLkFjdGlvbk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1PdXRwdXQodGFyZ2V0IGludGVyZmFjZXt9KSBlcnJvciB7CglqLCBlcnIgOj0gZC5KU09OKCkKCWlmIGVyciAhPSBuaWwgewoJCXJldHVybiBmbXQuRXJyb3JmKCJjb3VsZCBub3QgYWNjZXNzIHBheWxvYWQ6ICVzIiwgZXJyKQoJfQoKCWVyciA9IGpzb24uVW5tYXJzaGFsKGosIHRhcmdldCkKCWlmIGVyciAhPSBuaWwgewoJCXJldHVybiBmbXQuRXJyb3JmKCJjb3VsZCBub3QgdW5tYXJzaGFsIEpTT04gcGF5bG9hZDogJXMiLCBlcnIpCgl9CgoJcmV0dXJuIG5pbAp9CgovLyBEbyBwZXJmb3JtcyB0aGUgcmVxdWVzdApmdW5jIChkICp7eyAuQWN0aW9uTmFtZSB8IFNuYWtlVG9DYW1lbCB9fVJlcXVlc3RlcikgRG8oY3R4IGNvbnRleHQuQ29udGV4dCkgKCp7eyAuQWN0aW9uTmFtZSB8IFNuYWtlVG9DYW1lbCB9fVJlc3VsdCwgZXJyb3IpIHsKCWRyZXMgOj0gJnt7IC5BY3Rpb25OYW1lIHwgU25ha2VUb0NhbWVsIH19UmVzdWx0e30KCgloYW5kbGVyIDo9IGZ1bmMocHIgcHJvdG9jb2wuUmVwbHksIHIgKnJwY2NsaWVudC5SUENSZXBseSkgewoJCW91dHB1dCA6PSAme3sgLkFjdGlvbk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1PdXRwdXR7CgkJCXJlcGx5OiBtYWtlKG1hcFtzdHJpbmddaW50ZXJmYWNle30pLAoJCQlkZXRhaWxzOiAmUmVzdWx0RGV0YWlsc3sKCQkJCXNlbmRlcjogIHByLlNlbmRlcklEKCksCgkJCQljb2RlOiAgICBpbnQoci5TdGF0dXNjb2RlKSwKCQkJCW1lc3NhZ2U6IHIuU3RhdHVzbXNnLAoJCQkJdHM6ICAgICAgcHIuVGltZSgpLAoJCQl9LAoJCX0KCgkJZXJyIDo9IGpzb24uVW5tYXJzaGFsKHIuRGF0YSwgJm91dHB1dC5yZXBseSkKCQlpZiBlcnIgIT0gbmlsIHsKCQkJZC5yLmNsaWVudC5lcnJvcmYoIkNvdWxkIG5vdCBkZWNvZGUgcmVwbHkgZnJvbSAlczogJXMiLCBwci5TZW5kZXJJRCgpLCBlcnIpCgkJfQoKCQlpZiBkLm91dGMgIT0gbmlsIHsKCQkJZC5vdXRjIDwtIG91dHB1dAoJCQlyZXR1cm4KCQl9CgoJCWRyZXMub3V0cHV0cyA9IGFwcGVuZChkcmVzLm91dHB1dHMsIG91dHB1dCkKCX0KCglyZXMsIGVyciA6PSBkLnIuZG8oY3R4LCBoYW5kbGVyKQoJaWYgZXJyICE9IG5pbCB7CgkJcmV0dXJuIG5pbCwgZXJyCgl9CgoJZHJlcy5zdGF0cyA9IHJlcwoKCXJldHVybiBkcmVzLCBuaWwKfQoKLy8gRWFjaE91dHB1dCBpdGVyYXRlcyBvdmVyIGFsbCByZXN1bHRzIHJlY2VpdmVkCmZ1bmMgKGQgKnt7IC5BY3Rpb25OYW1lIHwgU25ha2VUb0NhbWVsIH19UmVzdWx0KSBFYWNoT3V0cHV0KGggZnVuYyhyICp7eyAuQWN0aW9uTmFtZSB8IFNuYWtlVG9DYW1lbCB9fU91dHB1dCkpIHsKCWZvciBfLCByZXNwIDo9IHJhbmdlIGQub3V0cHV0cyB7CgkJaChyZXNwKQoJfQp9Cgp7eyByYW5nZSAkbmFtZSwgJGlucHV0IDo9IC5PcHRpb25hbElucHV0cyB9fQovLyB7eyAkbmFtZSB8IFNuYWtlVG9DYW1lbCB9fSBpcyBhbiBvcHRpb25hbCBpbnB1dCB0byB0aGUge3sgJC5BY3Rpb25OYW1lIHwgVG9Mb3dlciB9fSBhY3Rpb24KLy8KLy8gRGVzY3JpcHRpb246IHt7ICRpbnB1dC5EZXNjcmlwdGlvbiB9fQpmdW5jIChkICp7eyAkLkFjdGlvbk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1SZXF1ZXN0ZXIpIHt7ICRuYW1lIHwgU25ha2VUb0NhbWVsIH19KHYge3sgQ2hvcmlhVHlwZVRvR29UeXBlICRpbnB1dC5UeXBlIH19KSAqe3sgJC5BY3Rpb25OYW1lIHwgU25ha2VUb0NhbWVsIH19UmVxdWVzdGVyIHsKCWQuci5hcmdzWyJ7eyAkbmFtZSB8IFRvTG93ZXIgfX0iXSA9IHYKCglyZXR1cm4gZAp9Cnt7IGVuZCB9fQp7eyByYW5nZSAkbmFtZSwgJG91dHB1dCA6PSAuT3V0cHV0cyB9fQovLyB7eyAkbmFtZSB8IFNuYWtlVG9DYW1lbCB9fSBpcyB0aGUgdmFsdWUgb2YgdGhlIHt7ICRuYW1lIH19IG91dHB1dAovLwovLyBEZXNjcmlwdGlvbjoge3sgJG91dHB1dC5EZXNjcmlwdGlvbiB9fQpmdW5jIChkICp7eyAkLkFjdGlvbk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1PdXRwdXQpIHt7ICRuYW1lIHwgU25ha2VUb0NhbWVsIH19KCkge3sgQ2hvcmlhVHlwZVRvR29UeXBlICRvdXRwdXQuVHlwZSB9fSB7Cgl2YWwgOj0gZC5yZXBseVsie3sgJG5hbWUgfX0iXQoJcmV0dXJuIHt7IENob3JpYVR5cGVUb1ZhbE9mVHlwZSAkb3V0cHV0LlR5cGUgfX0KfQp7eyBlbmQgfX0K",
	"client":        "Ly8gZ2VuZXJhdGVkIGNvZGU7IERPIE5PVCBFRElUCgpwYWNrYWdlIHt7IC5QYWNrYWdlIH19CgppbXBvcnQgKAoJImVuY29kaW5nL2Jhc2U2NCIKCSJlbmNvZGluZy9qc29uIgoJImZtdCIKCSJzeW5jIgoJInRpbWUiCgoJImNvbnRleHQiCgoJImdpdGh1Yi5jb20vY2hvcmlhLWlvL2dvLWNob3JpYS9jaG9yaWEiCgljb3JlY2xpZW50ICJnaXRodWIuY29tL2Nob3JpYS1pby9nby1jaG9yaWEvY2xpZW50L2NsaWVudCIKCSJnaXRodWIuY29tL2Nob3JpYS1pby9nby1jaG9yaWEvY29uZmlnIgoJImdpdGh1Yi5jb20vY2hvcmlhLWlvL2dvLWNob3JpYS9zcnZjYWNoZSIKCXJwY2NsaWVudCAiZ2l0aHViLmNvbS9jaG9yaWEtaW8vZ28tY2hvcmlhL3Byb3ZpZGVycy9hZ2VudC9tY29ycGMvY2xpZW50IgoJImdpdGh1Yi5jb20vY2hvcmlhLWlvL2dvLWNob3JpYS9wcm92aWRlcnMvYWdlbnQvbWNvcnBjL2RkbC9hZ2VudCIKCSJnaXRodWIuY29tL2Nob3JpYS1pby9nby1jaG9yaWEvcHJvdG9jb2wiCgkiZ2l0aHViLmNvbS9zaXJ1cHNlbi9sb2dydXMiCikKCi8vIFN0YXRzIGFyZSB0aGUgc3RhdGlzdGljcyBmb3IgYSByZXF1ZXN0CnR5cGUgU3RhdHMgaW50ZXJmYWNlIHsKCUFnZW50KCkgc3RyaW5nCglBY3Rpb24oKSBzdHJpbmcKCUFsbCgpIGJvb2wKCU5vUmVzcG9uc2VGcm9tKCkgW11zdHJpbmcKCVVuZXhwZWN0ZWRSZXNwb25zZUZyb20oKSBbXXN0cmluZwoJRGlzY292ZXJlZENvdW50KCkgaW50CglEaXNjb3ZlcmVkTm9kZXMoKSAqW11zdHJpbmcKCUZhaWxDb3VudCgpIGludAoJT0tDb3VudCgpIGludAoJUmVzcG9uc2VzQ291bnQoKSBpbnQKCVB1Ymxpc2hEdXJhdGlvbigpICh0aW1lLkR1cmF0aW9uLCBlcnJvcikKCVJlcXVlc3REdXJhdGlvbigpICh0aW1lLkR1cmF0aW9uLCBlcnJvcikKCURpc2NvdmVyeUR1cmF0aW9uKCkgKHRpbWUuRHVyYXRpb24sIGVycm9yKQp9CgovLyBOb2RlU291cmNlIGRpc2NvdmVycyBub2Rlcwp0eXBlIE5vZGVTb3VyY2UgaW50ZXJmYWNlIHsKCVJlc2V0KCkKCURpc2NvdmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGZ3IENob3JpYUZyYW1ld29yaywgZmlsdGVycyBbXUZpbHRlckZ1bmMpIChbXXN0cmluZywgZXJyb3IpCn0KCi8vIENob3JpYUZyYW1ld29yayBpcyB0aGUgQ2hvcmlhIGZyYW1ld29yawp0eXBlIENob3JpYUZyYW1ld29yayBpbnRlcmZhY2UgewoJTG9nZ2VyKHN0cmluZykgKmxvZ3J1cy5FbnRyeQoJU2V0TG9nZ2VyKCpsb2dydXMuTG9nZ2VyKQoJQ29uZmlndXJhdGlvbigpICpjb25maWcuQ29uZmlnCglOZXdNZXNzYWdlKHBheWxvYWQgc3RyaW5nLCBhZ2VudCBzdHJpbmcsIGNvbGxlY3RpdmUgc3RyaW5nLCBtc2dUeXBlIHN0cmluZywgcmVxdWVzdCAqY2hvcmlhLk1lc3NhZ2UpIChtc2cgKmNob3JpYS5NZXNzYWdlLCBlcnIgZXJyb3IpCglOZXdSZXBseUZyb21UcmFuc3BvcnRKU09OKHBheWxvYWQgW11ieXRlLCBza2lwdmFsaWRhdGUgYm9vbCkgKG1zZyBwcm90b2NvbC5SZXBseSwgZXJyIGVycm9yKQoJTmV3VHJhbnNwb3J0RnJvbUpTT04oZGF0YSBzdHJpbmcpIChtZXNzYWdlIHByb3RvY29sLlRyYW5zcG9ydE1lc3NhZ2UsIGVyciBlcnJvcikKCU1pZGRsZXdhcmVTZXJ2ZXJzKCkgKHNlcnZlcnMgc3J2Y2FjaGUuU2VydmVycywgZXJyIGVycm9yKQoJTmV3Q29ubmVjdG9yKGN0eCBjb250ZXh0LkNvbnRleHQsIHNlcnZlcnMgZnVuYygpIChzcnZjYWNoZS5TZXJ2ZXJzLCBlcnJvciksIG5hbWUgc3RyaW5nLCBsb2dnZXIgKmxvZ3J1cy5FbnRyeSkgKGNvbm4gY2hvcmlhLkNvbm5lY3RvciwgZXJyIGVycm9yKQoJTmV3UmVxdWVzdElEKCkgKHN0cmluZywgZXJyb3IpCglDZXJ0bmFtZSgpIHN0cmluZwp9CgovLyBGaWx0ZXJGdW5jIGNhbiBnZW5lcmF0ZSBhIENob3JpYSBmaWx0ZXIKdHlwZSBGaWx0ZXJGdW5jIGZ1bmMoZiAqcHJvdG9jb2wuRmlsdGVyKSBlcnJvcgoKLy8ge3sgLkRETC5NZXRhZGF0YS5OYW1lIHwgU25ha2VUb0NhbWVsIH19Q2xpZW50IHRvIHRoZSB7eyAuRERMLk1ldGFkYXRhLk5hbWUgfX0gYWdlbnQKdHlwZSB7eyAuRERMLk1ldGFkYXRhLk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1DbGllbnQgc3RydWN0IHsKCWZ3ICAgICAgICAgICBDaG9yaWFGcmFtZXdvcmsKCWNmZyAgICAgICAgICAgKmNvbmZpZy5Db25maWcKCWRkbCAgICAgICAgICAgKmFnZW50LkRETAoJbnMgICAgICAgICAgICBOb2RlU291cmNlCgljbGllbnRPcHRzICAgICppbml0T3B0aW9ucwoJY2xpZW50UlBDT3B0cyBbXXJwY2NsaWVudC5SZXF1ZXN0T3B0aW9uCglmaWx0ZXJzICAgICAgIFtdRmlsdGVyRnVuYwoJdGFyZ2V0cyAgICAgICBbXXN0cmluZwoKCXN5bmMuTXV0ZXgKfQoKLy8gTWV0YWRhdGEgaXMgdGhlIGFnZW50IG1ldGFkYXRhCnR5cGUgTWV0YWRhdGEgc3RydWN0IHsKCUxpY2Vuc2UgICAgIHN0cmluZyBganNvbjoibGljZW5zZSJgCglBdXRob3IgICAgICBzdHJpbmcgYGpzb246ImF1dGhvciJgCglUaW1lb3V0ICAgICBpbnQgICAgYGpzb246InRpbWVvdXQiYAoJTmFtZSAgICAgICAgc3RyaW5nIGBqc29uOiJuYW1lImAKCVZlcnNpb24gICAgIHN0cmluZyBganNvbjoidmVyc2lvbiJgCglVUkwgICAgICAgICBzdHJpbmcgYGpzb246InVybCJgCglEZXNjcmlwdGlvbiBzdHJpbmcgYGpzb246ImRlc2NyaXB0aW9uImAKfQoKLy8gTXVzdCBjcmVhdGUgYSBuZXcgY2xpZW50IGFuZCBwYW5pY3Mgb24gZXJyb3IKZnVuYyBNdXN0KG9wdHMgLi4uSW5pdGlhbGl6YXRpb25PcHRpb24pIChjbGllbnQgKnt7IC5EREwuTWV0YWRhdGEuTmFtZSB8IFNuYWtlVG9DYW1lbCB9fUNsaWVudCkgewoJYywgZXJyIDo9IE5ldyhvcHRzLi4uKQoJaWYgZXJyICE9IG5pbCB7CgkJcGFuaWMoZXJyKQoJfQoKCXJldHVybiBjCn0KCi8vIE5ldyBjcmVhdGVzIGEgbmV3IGNsaWVudCB0byB0aGUge3sgLkRETC5NZXRhZGF0YS5OYW1lIH19IGFnZW50CmZ1bmMgTmV3KG9wdHMgLi4uSW5pdGlhbGl6YXRpb25PcHRpb24pIChjbGllbnQgKnt7IC5EREwuTWV0YWRhdGEuTmFtZSB8IFNuYWtlVG9DYW1lbCB9fUNsaWVudCwgZXJyIGVycm9yKSB7CgljIDo9ICZ7eyAuRERMLk1ldGFkYXRhLk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1DbGllbnR7CgkJZGRsOiAgICAgICAgICAgJmFnZW50LkRETHt9LAoJCWNsaWVudFJQQ09wdHM6IFtdcnBjY2xpZW50LlJlcXVlc3RPcHRpb257fSwKCQlmaWx0ZXJzOiAgICAgICBbXUZpbHRlckZ1bmN7CgkJICAgIEZpbHRlckZ1bmMoY29yZWNsaWVudC5BZ2VudEZpbHRlcigie3sgLkRETC5NZXRhZGF0YS5OYW1lIH19IikpLAoJCX0sCgkJY2xpZW50T3B0czogJmluaXRPcHRpb25zewoJCQljZmdGaWxlOiBjaG9yaWEuVXNlckNvbmZpZygpLAoJCX0sCgkJdGFyZ2V0czogW11zdHJpbmd7fSwKCX0KCglmb3IgXywgb3B0IDo9IHJhbmdlIG9wdHMgewoJCW9wdChjLmNsaWVudE9wdHMpCgl9CgoJaWYgYy5jbGllbnRPcHRzLm5zID09IG5pbCB7CgkJYy5jbGllbnRPcHRzLm5zID0gJkJyb2FkY2FzdE5Te30KCX0KCWMubnMgPSBjLmNsaWVudE9wdHMubnMKCgljLmZ3LCBlcnIgPSBjaG9yaWEuTmV3KGMuY2xpZW50T3B0cy5jZmdGaWxlKQoJaWYgZXJyICE9IG5pbCB7CgkJcmV0dXJuIG5pbCwgZm10LkVycm9yZigiY291bGQgbm90IGluaXRpYWxpemUgQ2hvcmlhOiAlcyIsIGVycikKCX0KCgljLmNmZyA9IGMuZncuQ29uZmlndXJhdGlvbigpCgoJaWYgYy5jbGllbnRPcHRzLmxvZ2dlciA9PSBuaWwgewoJCWMuY2xpZW50T3B0cy5sb2dnZXIgPSBjLmZ3LkxvZ2dlcigie3sgLkRETC5NZXRhZGF0YS5OYW1lIH19IikKCX0gZWxzZSB7CgkJYy5mdy5TZXRMb2dnZXIoYy5jbGllbnRPcHRzLmxvZ2dlci5Mb2dnZXIpCgl9CgoJZGRsaiwgZXJyIDo9IGJhc2U2NC5TdGRFbmNvZGluZy5EZWNvZGVTdHJpbmcocmF3RERMKQoJaWYgZXJyICE9IG5pbCB7CgkJcmV0dXJuIG5pbCwgZm10LkVycm9yZigiY291bGQgbm90IHBhcnNlIGVtYmVkZGVkIERETDogJXMiLCBlcnIpCgl9CgoJZXJyID0ganNvbi5Vbm1hcnNoYWwoZGRsaiwgYy5kZGwpCglpZiBlcnIgIT0gbmlsIHsKCQlyZXR1cm4gbmlsLCBmbXQuRXJyb3JmKCJjb3VsZCBub3QgcGFyc2UgZW1iZWRkZWQgRERMOiAlcyIsIGVycikKCX0KCglyZXR1cm4gYywgbmlsCn0KCi8vIEFnZW50TWV0YWRhdGEgaXMgdGhlIGFnZW50IG1ldGFkYXRhIHRoaXMgY2xpZW50IHN1cHBvcnRzCmZ1bmMgKHAgKnt7IC5EREwuTWV0YWRhdGEuTmFtZSB8IFNuYWtlVG9DYW1lbCB9fUNsaWVudCkgQWdlbnRNZXRhZGF0YSgpICpNZXRhZGF0YSB7CglyZXR1cm4gJk1ldGFkYXRhewoJCUxpY2Vuc2U6ICAgICBwLmRkbC5NZXRhZGF0YS5MaWNlbnNlLAoJCUF1dGhvcjogICAgICBwLmRkbC5NZXRhZGF0YS5BdXRob3IsCgkJVGltZW91dDogICAgIHAuZGRsLk1ldGFkYXRhLlRpbWVvdXQsCgkJTmFtZTogICAgICAgIHAuZGRsLk1ldGFkYXRhLk5hbWUsCgkJVmVyc2lvbjogICAgIHAuZGRsLk1ldGFkYXRhLlZlcnNpb24sCgkJVVJMOiAgICAgICAgIHAuZGRsLk1ldGFkYXRhLlVSTCwKCQlEZXNjcmlwdGlvbjogcC5kZGwuTWV0YWRhdGEuRGVzY3JpcHRpb24sCgl9Cn0KCi8vIERpc2NvdmVyTm9kZXMgcGVyZm9ybXMgYSBkaXNjb3ZlcnkgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgZmlsdGVyIGFuZCBub2RlIHNvdXJjZQpmdW5jIChwICp7eyAuRERMLk1ldGFkYXRhLk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1DbGllbnQpIERpc2NvdmVyTm9kZXMoY3R4IGNvbnRleHQuQ29udGV4dCkgKG5vZGVzIFtdc3RyaW5nLCBlcnIgZXJyb3IpIHsKCXAuTG9jaygpCglkZWZlciBwLlVubG9jaygpCgoJcmV0dXJuIHAubnMuRGlzY292ZXIoY3R4LCBwLmZ3LCBwLmZpbHRlcnMpCn0KCnt7IHJhbmdlICRpLCAkYWN0aW9uIDo9IC5EREwuQWN0aW9ucyB9fQovLyB7eyAkYWN0aW9uLk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX0gcGVyZm9ybXMgdGhlIHt7ICRhY3Rpb24uTmFtZSB8IFRvTG93ZXIgfX0gYWN0aW9uCi8vCi8vIERlc2NyaXB0aW9uOiB7eyAkYWN0aW9uLkRlc2NyaXB0aW9uIH19Cnt7LSBpZiBDaG9yaWFSZXF1aXJlZElucHV0cyAkYWN0aW9uIH19Ci8vCi8vIFJlcXVpcmVkIElucHV0czoKe3stIHJhbmdlICRuYW1lLCAkaW5wdXQgOj0gQ2hvcmlhUmVxdWlyZWRJbnB1dHMgJGFjdGlvbiB9fQovLyAgICAtIHt7ICRuYW1lIH19ICh7eyAkaW5wdXQuVHlwZSB8IENob3JpYVR5cGVUb0dvVHlwZSB9fSkgLSB7eyAkaW5wdXQuRGVzY3JpcHRpb24gfX0Ke3stIGVuZCB9fQp7ey0gZW5kIH19Cnt7LSBpZiBDaG9yaWFPcHRpb25hbElucHV0cyAkYWN0aW9uIH19Ci8vCi8vIE9wdGlvbmFsIElucHV0czoKe3stIHJhbmdlICRuYW1lLCAkaW5wdXQgOj0gQ2hvcmlhT3B0aW9uYWxJbnB1dHMgJGFjdGlvbiB9fQovLyAgICAtIHt7ICRuYW1lIH19ICh7eyAkaW5wdXQuVHlwZSB8IENob3JpYVR5cGVUb0dvVHlwZSB9fSkgLSB7eyAkaW5wdXQuRGVzY3JpcHRpb24gfX0Ke3stIGVuZCB9fQp7ey0gZW5kIH19CmZ1bmMgKHAgKnt7ICQuRERMLk1ldGFkYXRhLk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1DbGllbnQpIHt7ICRhY3Rpb24uTmFtZSB8IFNuYWtlVG9DYW1lbCB9fSh7eyAkYWN0aW9uIHwgQ2hvcmlhUmVxdWlyZWRJbnB1dHNUb0Z1bmNBcmdzIH19KSAqe3sgJGFjdGlvbi5OYW1lIHwgU25ha2VUb0NhbWVsIH19UmVxdWVzdGVyIHsKCWQgOj0gJnt7ICRhY3Rpb24uTmFtZSB8IFNuYWtlVG9DYW1lbCB9fVJlcXVlc3RlcnsKCQlvdXRjOiBuaWwsCgkJcjogJnJlcXVlc3RlcnsKCQkJYXJnczogICBtYXBbc3RyaW5nXWludGVyZmFjZXt9ewp7ey0gcmFuZ2UgJG5hbWUsICRpbnB1dCA6PSBDaG9yaWFSZXF1aXJlZElucHV0cyAkYWN0aW9uIH19CgkJCQkie3sgJG5hbWUgfX0iOiB7eyAkbmFtZSB9fUksCnt7LSBlbmQgfX0KCQkJfSwKCQkJYWN0aW9uOiAie3sgJGFjdGlvbi5OYW1lIHwgVG9Mb3dlciB9fSIsCgkJCWNsaWVudDogcCwKCQl9LAoJfQoKCXJldHVybiBkCn0Ke3sgZW5kIH19Cg==",
	"ddl":           "Ly8gZ2VuZXJhdGVkIGNvZGU7IERPIE5PVCBFRElUCgpwYWNrYWdlIHt7IC5QYWNrYWdlIH19Cgp2YXIgcmF3RERMID0gInt7IC5SYXdEREwgfCBCYXNlNjRFbmNvZGUgfX0i",
	"discover":      "Ly8gZ2VuZXJhdGVkIGNvZGU7IERPIE5PVCBFRElUCgpwYWNrYWdlIHt7IC5QYWNrYWdlIH19CgppbXBvcnQgKAoJImNvbnRleHQiCgkic3luYyIKCSJ0aW1lIgoKCSJnaXRodWIuY29tL2Nob3JpYS1pby9nby1jaG9yaWEvY2xpZW50L2Rpc2NvdmVyeS9icm9hZGNhc3QiCgkiZ2l0aHViLmNvbS9jaG9yaWEtaW8vZ28tY2hvcmlhL3Byb3RvY29sIgopCgovLyBCcm9hZGNhc3ROUyBpcyBhIE5vZGVTb3VyY2UgdGhhdCB1c2VzIHRoZSBDaG9yaWEgbmV0d29yayBicm9hZGNhc3QgbWV0aG9kIHRvIGRpc2NvdmVyIG5vZGVzCnR5cGUgQnJvYWRjYXN0TlMgc3RydWN0IHsKCW5vZGVDYWNoZSBbXXN0cmluZwoJZiAgICAgICAgICpwcm90b2NvbC5GaWx0ZXIKCglzeW5jLk11dGV4Cn0KCi8vIFJlc2V0IHJlc2V0cyB0aGUgaW50ZXJuYWwgbm9kZSBjYWNoZQpmdW5jIChiICpCcm9hZGNhc3ROUykgUmVzZXQoKSB7CgliLkxvY2soKQoJZGVmZXIgYi5VbmxvY2soKQoKCWIubm9kZUNhY2hlID0gW11zdHJpbmd7fQp9CgovLyBEaXNjb3ZlciBwZXJmb3JtcyB0aGUgZGlzY292ZXJ5IG9mIG5vZGVzIGFnYWluc3QgdGhlIENob3JpYSBOZXR3b3JrCmZ1bmMgKGIgKkJyb2FkY2FzdE5TKSBEaXNjb3ZlcihjdHggY29udGV4dC5Db250ZXh0LCBmdyBDaG9yaWFGcmFtZXdvcmssIGZpbHRlcnMgW11GaWx0ZXJGdW5jKSAoW11zdHJpbmcsIGVycm9yKSB7CgliLkxvY2soKQoJZGVmZXIgYi5VbmxvY2soKQoKCWNvcGllciA6PSBmdW5jKCkgW11zdHJpbmcgewoJCW91dCA6PSBtYWtlKFtdc3RyaW5nLCBsZW4oYi5ub2RlQ2FjaGUpKQoJCWZvciBpLCBuIDo9IHJhbmdlIGIubm9kZUNhY2hlIHsKCQkJb3V0W2ldID0gbgoJCX0KCgkJcmV0dXJuIG91dAoJfQoKCWlmICEoYi5ub2RlQ2FjaGUgPT0gbmlsIHx8IGxlbihiLm5vZGVDYWNoZSkgPT0gMCkgewoJCXJldHVybiBjb3BpZXIoKSwgbmlsCgl9CgoJZXJyIDo9IGIucGFyc2VGaWx0ZXJzKGZpbHRlcnMpCglpZiBlcnIgIT0gbmlsIHsKCQlyZXR1cm4gbmlsLCBlcnIKCX0KCglpZiBiLm5vZGVDYWNoZSA9PSBuaWwgewoJCWIubm9kZUNhY2hlID0gW11zdHJpbmd7fQoJfQoKCWNmZyA6PSBmdy5Db25maWd1cmF0aW9uKCkKCW5vZGVzLCBlcnIgOj0gYnJvYWRjYXN0Lk5ldyhmdykuRGlzY292ZXIoY3R4LCBicm9hZGNhc3QuRmlsdGVyKGIuZiksIGJyb2FkY2FzdC5UaW1lb3V0KHRpbWUuU2Vjb25kKnRpbWUuRHVyYXRpb24oY2ZnLkRpc2NvdmVyeVRpbWVvdXQpKSkKCWlmIGVyciAhPSBuaWwgewoJCXJldHVybiBbXXN0cmluZ3t9LCBlcnIKCX0KCgliLm5vZGVDYWNoZSA9IG5vZGVzCgoJcmV0dXJuIGNvcGllcigpLCBuaWwKfQoKZnVuYyAoYiAqQnJvYWRjYXN0TlMpIHBhcnNlRmlsdGVycyhmcyBbXUZpbHRlckZ1bmMpIGVycm9yIHsKCWIuZiA9IHByb3RvY29sLk5ld0ZpbHRlcigpCgoJZm9yIF8sIGYgOj0gcmFuZ2UgZnMgewoJCWVyciA6PSBmKGIuZikKCQlpZiBlcnIgIT0gbmlsIHsKCQkJcmV0dXJuIGVycgoJCX0KCX0KCglyZXR1cm4gbmlsCn0K",
	"doc":           "e3sgR2VuZXJhdGVkV2FybmluZyB9fQoKLy8gUGFja2FnZSB7eyAuUGFja2FnZSB9fSBpcyBhbiBBUEkgY2xpZW50IHRvIHRoZSBDaG9yaWEge3sgLkRETC5NZXRhZGF0YS5OYW1lIHwgQ2FwaXRhbGl6ZSB9fSBhZ2VudCBWZXJzaW9uIHt7IC5EREwuTWV0YWRhdGEuVmVyc2lvbiB9fS4KLy8KLy8gQWN0aW9uczoKe3stIHJhbmdlICRpLCAkYWN0aW9uIDo9IC5EREwuQWN0aW9ucyB9fQovLyAgICoge3sgJGFjdGlvbi5OYW1lIHwgU25ha2VUb0NhbWVsIH19IC0ge3sgJGFjdGlvbi5EZXNjcmlwdGlvbiAtfX0Ke3sgZW5kIH19CnBhY2thZ2Uge3sgLlBhY2thZ2UgfX0KCg==",
	"initoptions":   "Ly8gZ2VuZXJhdGVkIGNvZGU7IERPIE5PVCBFRElUCgpwYWNrYWdlIHt7IC5QYWNrYWdlIH19CgppbXBvcnQgKAoJImdpdGh1Yi5jb20vc2lydXBzZW4vbG9ncnVzIgopCgp0eXBlIGluaXRPcHRpb25zIHN0cnVjdCB7CgljZmdGaWxlIHN0cmluZwoJbG9nZ2VyICAqbG9ncnVzLkVudHJ5CglucyBOb2RlU291cmNlCn0KCi8vIEluaXRpYWxpemF0aW9uT3B0aW9uIGlzIGFuIG9wdGlvbmFsIHNldHRpbmcgdXNlZCB0byBpbml0aWFsaXplIHRoZSBjbGllbnQKdHlwZSBJbml0aWFsaXphdGlvbk9wdGlvbiBmdW5jKG9wdHMgKmluaXRPcHRpb25zKQoKLy8gQ29uZmlnRmlsZSBzZXRzIHRoZSBjb25maWcgZmlsZSB0byB1c2UsIHdoZW4gbm90IHNldCB3aWxsIHVzZSB0aGUgdXNlciBkZWZhdWx0CmZ1bmMgQ29uZmlnRmlsZShmIHN0cmluZykgSW5pdGlhbGl6YXRpb25PcHRpb24gewoJcmV0dXJuIGZ1bmMobyAqaW5pdE9wdGlvbnMpIHsKCQlvLmNmZ0ZpbGUgPSBmCgl9Cn0KCi8vIExvZ2dlciBzZXRzIHRoZSBsb2dnZXIgdG8gdXNlIGVsc2Ugb25lIGlzIG1hZGUgdmlhIHRoZSBDaG9yaWEgZnJhbWV3b3JrCmZ1bmMgTG9nZ2VyKGwgKmxvZ3J1cy5FbnRyeSkgSW5pdGlhbGl6YXRpb25PcHRpb24gewoJcmV0dXJuIGZ1bmMobyAqaW5pdE9wdGlvbnMpIHsKCQlvLmxvZ2dlciA9IGwKCX0KfQoKLy8gRGlzY292ZXJ5IHNldHMgdGhlIE5vZGVTb3VyY2UgdG8gdXNlIHdoZW4gZmluZGluZyBub2RlcyB0byBtYW5hZ2UKZnVuYyBEaXNjb3ZlcnkobnMgTm9kZVNvdXJjZSkgSW5pdGlhbGl6YXRpb25PcHRpb24gewoJcmV0dXJuIGZ1bmMobyAqaW5pdE9wdGlvbnMpIHsKCQlvLm5zID0gbnMKCX0KfQo=",
	"logging":       "Ly8gZ2VuZXJhdGVkIGNvZGU7IERPIE5PVCBFRElUCgpwYWNrYWdlIHt7IC5QYWNrYWdlIH19CgpmdW5jIChjICp7eyAuRERMLk1ldGFkYXRhLk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1DbGllbnQpIGluZm9mKG1zZyBzdHJpbmcsIGEgLi4uaW50ZXJmYWNle30pIHsKCWMuY2xpZW50T3B0cy5sb2dnZXIuSW5mb2YobXNnLCBhLi4uKQp9CgpmdW5jIChjICp7eyAuRERMLk1ldGFkYXRhLk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1DbGllbnQpIGVycm9yZihtc2cgc3RyaW5nLCBhIC4uLmludGVyZmFjZXt9KSB7CgljLmNsaWVudE9wdHMubG9nZ2VyLkVycm9yZihtc2csIGEuLi4pCn0K",
	"requester":     "Ly8gZ2VuZXJhdGVkIGNvZGU7IERPIE5PVCBFRElUCgpwYWNrYWdlIHt7IC5QYWNrYWdlIH19CgppbXBvcnQgKAoJImNvbnRleHQiCgkiZm10IgoKCSJnaXRodWIuY29tL2Nob3JpYS1pby9nby1jaG9yaWEvcHJvdG9jb2wiCglycGNjbGllbnQgImdpdGh1Yi5jb20vY2hvcmlhLWlvL2dvLWNob3JpYS9wcm92aWRlcnMvYWdlbnQvbWNvcnBjL2NsaWVudCIKKQoKLy8gcmVxdWVzdGVyIGlzIGEgZ2VuZXJpYyByZXF1ZXN0IGhhbmRsZXIKdHlwZSByZXF1ZXN0ZXIgc3RydWN0IHsKCWNsaWVudCAqe3sgLkRETC5NZXRhZGF0YS5OYW1lIHwgU25ha2VUb0NhbWVsIH19Q2xpZW50CglhY3Rpb24gc3RyaW5nCglhcmdzICAgbWFwW3N0cmluZ11pbnRlcmZhY2V7fQp9CgovLyBkbyBwZXJmb3JtcyB0aGUgcmVxdWVzdApmdW5jIChyICpyZXF1ZXN0ZXIpIGRvKGN0eCBjb250ZXh0LkNvbnRleHQsIGhhbmRsZXIgZnVuYyhwciBwcm90b2NvbC5SZXBseSwgciAqcnBjY2xpZW50LlJQQ1JlcGx5KSkgKCpycGNjbGllbnQuU3RhdHMsIGVycm9yKSB7Cgl0YXJnZXRzIDo9IG1ha2UoW11zdHJpbmcsIGxlbihyLmNsaWVudC50YXJnZXRzKSkKCXZhciBlcnIgZXJyb3IKCglyLmNsaWVudC5Mb2NrKCkKCWNvcHkodGFyZ2V0cywgci5jbGllbnQudGFyZ2V0cykKCWRpc2NvdmVyZXIgOj0gci5jbGllbnQubnMKCWZpbHRlcnMgOj0gci5jbGllbnQuZmlsdGVycwoJZncgOj0gci5jbGllbnQuZncKCglpZiBsZW4odGFyZ2V0cykgPT0gMCB7CgkJci5jbGllbnQuaW5mb2YoIlN0YXJ0aW5nIGRpc2NvdmVyeSIpCgkJdGFyZ2V0cywgZXJyID0gZGlzY292ZXJlci5EaXNjb3ZlcihjdHgsIGZ3LCBmaWx0ZXJzKQoJCWlmIGVyciAhPSBuaWwgewoJCQlyZXR1cm4gbmlsLCBlcnIKCQl9CgoJCWlmIGxlbih0YXJnZXRzKSA9PSAwIHsKCQkJcmV0dXJuIG5pbCwgZm10LkVycm9yZigibm8gbm9kZXMgd2VyZSBkaXNjb3ZlcmVkIikKCQl9CgkJci5jbGllbnQuaW5mb2YoIkRpc2NvdmVyZWQgJWQgbm9kZXMiLCBsZW4odGFyZ2V0cykpCgl9CgoJb3B0cyA6PSBbXXJwY2NsaWVudC5SZXF1ZXN0T3B0aW9ue3JwY2NsaWVudC5UYXJnZXRzKHRhcmdldHMpfQoJb3B0cyA9IGFwcGVuZChvcHRzLCByLmNsaWVudC5jbGllbnRSUENPcHRzLi4uKQoJci5jbGllbnQuVW5sb2NrKCkKCglhZ2VudCwgZXJyIDo9IHJwY2NsaWVudC5OZXcoci5jbGllbnQuZncsIHIuY2xpZW50LmRkbC5NZXRhZGF0YS5OYW1lLCBycGNjbGllbnQuRERMKHIuY2xpZW50LmRkbCkpCglpZiBlcnIgIT0gbmlsIHsKCQlyZXR1cm4gbmlsLCBmbXQuRXJyb3JmKCJjb3VsZCBub3QgY3JlYXRlIGNsaWVudDogJXMiLCBlcnIpCgl9CgoJb3B0cyA9IGFwcGVuZChvcHRzLCBycGNjbGllbnQuUmVwbHlIYW5kbGVyKGhhbmRsZXIpKQoKCXIuY2xpZW50LmluZm9mKCJJbnZva2luZyAlcyMlcyBhY3Rpb24gd2l0aCAlI3YiLCByLmNsaWVudC5kZGwuTWV0YWRhdGEuTmFtZSwgci5hY3Rpb24sIHIuYXJncykKCglyZXMsIGVyciA6PSBhZ2VudC5EbyhjdHgsIHIuYWN0aW9uLCByLmFyZ3MsIG9wdHMuLi4pCglpZiBlcnIgIT0gbmlsIHsKCQlyZXR1cm4gbmlsLCBmbXQuRXJyb3JmKCJjb3VsZCBub3QgcGVyZm9ybSBkaXNhYmxlIHJlcXVlc3Q6ICVzIiwgZXJyKQoJfQoKCXJldHVybiByZXMuU3RhdHMoKSwgbmlsCn0K",
	"resultdetails": "Ly8gZ2VuZXJhdGVkIGNvZGU7IERPIE5PVCBFRElUCgpwYWNrYWdlIHt7IC5QYWNrYWdlIH19CgppbXBvcnQgKAoJInRpbWUiCgoJImdpdGh1Yi5jb20vY2hvcmlhLWlvL2dvLWNob3JpYS9wcm92aWRlcnMvYWdlbnQvbWNvcnBjIgopCgovLyBSZXN1bHREZXRhaWxzIGlzIHRoZSBkZXRhaWxzIGFib3V0IGEgcmVzdWx0CnR5cGUgUmVzdWx0RGV0YWlscyBzdHJ1Y3QgewoJc2VuZGVyICBzdHJpbmcKCWNvZGUgICAgaW50CgltZXNzYWdlIHN0cmluZwoJdHMgICAgICB0aW1lLlRpbWUKfQoKLy8gU3RhdHVzQ29kZSBpcyBhIHJlcGx5IHN0YXR1cyBhcyBkZWZpbmVkIGJ5IE1Db2xsZWN0aXZlIFNpbXBsZVJQQyAtIGludGVnZXJzIDAgdG8gNQovLwovLyBTZWUgdGhlIGNvbnN0YW50cyBPSywgUlBDQWJvcnRlZCwgVW5rbm93blJQQ0FjdGlvbiwgTWlzc2luZ1JQQ0RhdGEsIEludmFsaWRSUENEYXRhIGFuZCBVbmtub3duUlBDRXJyb3IKdHlwZSBTdGF0dXNDb2RlIHVpbnQ4Cgpjb25zdCAoCgkvLyBPSyBpcyB0aGUgcmVwbHkgc3RhdHVzIHdoZW4gYWxsIHdvcmtlZAoJT0sgPSBTdGF0dXNDb2RlKGlvdGEpCgoJLy8gQWJvcnRlZCBpcyBzdGF0dXMgZm9yIHdoZW4gdGhlIGFjdGlvbiBjb3VsZCBub3QgcnVuLCBtb3N0IGZhaWx1cmVzIGluIGFuIGFjdGlvbiBzaG91bGQgc2V0IHRoaXMKCUFib3J0ZWQKCgkvLyBVbmtub3duQWN0aW9uIGlzIHRoZSBzdGF0dXMgZm9yIHVua25vd24gYWN0aW9ucyByZXF1ZXN0ZWQKCVVua25vd25BY3Rpb24KCgkvLyBNaXNzaW5nRGF0YSBpcyB0aGUgc3RhdHVzIGZvciBtaXNzaW5nIGlucHV0IGRhdGEKCU1pc3NpbmdEYXRhCgoJLy8gSW52YWxpZERhdGEgaXMgdGhlIHN0YXR1cyBmb3IgaW52YWxpZCBpbnB1dCBkYXRhCglJbnZhbGlkRGF0YQoKCS8vIFVua25vd25FcnJvciBpcyB0aGUgc3RhdHVzIGdlbmVyYWwgZmFpbHVyZXMgaW4gYWdlbnRzIHNob3VsZCBzZXQgd2hlbiB0aGluZ3MgZ28gYmFkCglVbmtub3duRXJyb3IKKQoKLy8gU2VuZGVyIGlzIHRoZSBpZGVudGl0eSBvZiB0aGUgcmVtb3RlIHRoYXQgcHJvZHVjZWQgdGhlIG1lc3NhZ2UKZnVuYyAoZCAqUmVzdWx0RGV0YWlscykgU2VuZGVyKCkgc3RyaW5nIHsKCXJldHVybiBkLnNlbmRlcgp9CgovLyBPSyBkZXRlcm1pbmVzIGlmIHRoZSByZXF1ZXN0IHdhcyBzdWNjZXNzZnVsCmZ1bmMgKGQgKlJlc3VsdERldGFpbHMpIE9LKCkgYm9vbCB7CglyZXR1cm4gbWNvcnBjLlN0YXR1c0NvZGUoZC5jb2RlKSA9PSBtY29ycGMuT0sKfQoKLy8gU3RhdHVzTWVzc2FnZSBpcyB0aGUgc3RhdHVzIG1lc3NhZ2UgcHJvZHVjZWQgYnkgdGhlIHJlbW90ZQpmdW5jIChkICpSZXN1bHREZXRhaWxzKSBTdGF0dXNNZXNzYWdlKCkgc3RyaW5nIHsKCXJldHVybiBkLm1lc3NhZ2UKfQoKLy8gU3RhdHVzQ29kZSBpcyB0aGUgc3RhdHVzIGNvZGUgcHJvZHVjZWQgYnkgdGhlIHJlbW90ZQpmdW5jIChkICpSZXN1bHREZXRhaWxzKSBTdGF0dXNDb2RlKCkgU3RhdHVzQ29kZSB7CglyZXR1cm4gU3RhdHVzQ29kZShkLmNvZGUpCn0K",
	"rpcoptions":    "Ly8gZ2VuZXJhdGVkIGNvZGU7IERPIE5PVCBFRElUCgpwYWNrYWdlIHt7IC5QYWNrYWdlIH19CgppbXBvcnQgKAoJInRpbWUiCgoJY29yZWNsaWVudCAiZ2l0aHViLmNvbS9jaG9yaWEtaW8vZ28tY2hvcmlhL2NsaWVudC9jbGllbnQiCglycGNjbGllbnQgImdpdGh1Yi5jb20vY2hvcmlhLWlvL2dvLWNob3JpYS9wcm92aWRlcnMvYWdlbnQvbWNvcnBjL2NsaWVudCIKKQoKLy8gT3B0aW9uUmVzZXQgcmVzZXRzIHRoZSBjbGllbnQgb3B0aW9ucyB0byB1c2UgYWNyb3NzIHJlcXVlc3RzIHRvIGFuIGVtcHR5IGxpc3QKZnVuYyAocCAqe3sgLkRETC5NZXRhZGF0YS5OYW1lIHwgU25ha2VUb0NhbWVsIH19Q2xpZW50KSBPcHRpb25SZXNldCgpICp7eyAuRERMLk1ldGFkYXRhLk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1DbGllbnQgewoJcC5Mb2NrKCkKCWRlZmVyIHAuVW5sb2NrKCkKCglwLmNsaWVudFJQQ09wdHMgPSBbXXJwY2NsaWVudC5SZXF1ZXN0T3B0aW9ue30KCXAubnMgPSBwLmNsaWVudE9wdHMubnMKCXAudGFyZ2V0cyA9IFtdc3RyaW5ne30KCXAuZmlsdGVycyA9IFtdRmlsdGVyRnVuY3sKCSAgICBGaWx0ZXJGdW5jKGNvcmVjbGllbnQuQWdlbnRGaWx0ZXIoInt7IC5EREwuTWV0YWRhdGEuTmFtZSB9fSIpKSwKCX0KCglyZXR1cm4gcAp9CgovLyBPcHRpb25JZGVudGl0eUZpbHRlciBhZGRzIGFuIGlkZW50aXR5IGZpbHRlcgpmdW5jIChwICp7eyAuRERMLk1ldGFkYXRhLk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1DbGllbnQpIE9wdGlvbklkZW50aXR5RmlsdGVyKGYgLi4uc3RyaW5nKSAqe3sgLkRETC5NZXRhZGF0YS5OYW1lIHwgU25ha2VUb0NhbWVsIH19Q2xpZW50IHsKCXAuTG9jaygpCglkZWZlciBwLlVubG9jaygpCgoJZm9yIF8sIGkgOj0gcmFuZ2UgZiB7CgkJcC5maWx0ZXJzID0gYXBwZW5kKHAuZmlsdGVycywgRmlsdGVyRnVuYyhjb3JlY2xpZW50LklkZW50aXR5RmlsdGVyKGkpKSkKCX0KCglwLm5zLlJlc2V0KCkKCglyZXR1cm4gcAp9CgovLyBPcHRpb25DbGFzc0ZpbHRlciBhZGRzIGEgY2xhc3MgZmlsdGVyCmZ1bmMgKHAgKnt7IC5EREwuTWV0YWRhdGEuTmFtZSB8IFNuYWtlVG9DYW1lbCB9fUNsaWVudCkgT3B0aW9uQ2xhc3NGaWx0ZXIoZiAuLi5zdHJpbmcpICp7eyAuRERMLk1ldGFkYXRhLk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1DbGllbnQgewoJcC5Mb2NrKCkKCWRlZmVyIHAuVW5sb2NrKCkKCglmb3IgXywgaSA6PSByYW5nZSBmIHsKCQlwLmZpbHRlcnMgPSBhcHBlbmQocC5maWx0ZXJzLCBGaWx0ZXJGdW5jKGNvcmVjbGllbnQuQ2xhc3NGaWx0ZXIoaSkpKQoJfQoKCXAubnMuUmVzZXQoKQoKCXJldHVybiBwCn0KCi8vIE9wdGlvbkZhY3RGaWx0ZXIgYWRkcyBhIGZhY3QgZmlsdGVyCmZ1bmMgKHAgKnt7IC5EREwuTWV0YWRhdGEuTmFtZSB8IFNuYWtlVG9DYW1lbCB9fUNsaWVudCkgT3B0aW9uRmFjdEZpbHRlcihmIC4uLnN0cmluZykgKnt7IC5EREwuTWV0YWRhdGEuTmFtZSB8IFNuYWtlVG9DYW1lbCB9fUNsaWVudCB7CglwLkxvY2soKQoJZGVmZXIgcC5VbmxvY2soKQoKCWZvciBfLCBpIDo9IHJhbmdlIGYgewoJCXAuZmlsdGVycyA9IGFwcGVuZChwLmZpbHRlcnMsIEZpbHRlckZ1bmMoY29yZWNsaWVudC5GYWN0RmlsdGVyKGkpKSkKCX0KCglwLm5zLlJlc2V0KCkKCglyZXR1cm4gcAp9CgovLyBPcHRpb25Db2xsZWN0aXZlIHNldHMgdGhlIGNvbGxlY3RpdmUgdG8gdGFyZ2V0CmZ1bmMgKHAgKnt7IC5EREwuTWV0YWRhdGEuTmFtZSB8IFNuYWtlVG9DYW1lbCB9fUNsaWVudCkgT3B0aW9uQ29sbGVjdGl2ZShjIHN0cmluZykgKnt7IC5EREwuTWV0YWRhdGEuTmFtZSB8IFNuYWtlVG9DYW1lbCB9fUNsaWVudCB7CglwLkxvY2soKQoJZGVmZXIgcC5VbmxvY2soKQoKCXAuY2xpZW50UlBDT3B0cyA9IGFwcGVuZChwLmNsaWVudFJQQ09wdHMsIHJwY2NsaWVudC5Db2xsZWN0aXZlKGMpKQoJcmV0dXJuIHAKfQoKLy8gT3B0aW9uSW5CYXRjaGVzIHBlcmZvcm1zIHJlcXVlc3RzIGluIGJhdGNoZXMKZnVuYyAocCAqe3sgLkRETC5NZXRhZGF0YS5OYW1lIHwgU25ha2VUb0NhbWVsIH19Q2xpZW50KSBPcHRpb25JbkJhdGNoZXMoc2l6ZSBpbnQsIHNsZWVwIGludCkgKnt7IC5EREwuTWV0YWRhdGEuTmFtZSB8IFNuYWtlVG9DYW1lbCB9fUNsaWVudCB7CglwLkxvY2soKQoJZGVmZXIgcC5VbmxvY2soKQoKCXAuY2xpZW50UlBDT3B0cyA9IGFwcGVuZChwLmNsaWVudFJQQ09wdHMsIHJwY2NsaWVudC5JbkJhdGNoZXMoc2l6ZSwgc2xlZXApKQoJcmV0dXJuIHAKfQoKLy8gT3B0aW9uRGlzY292ZXJ5VGltZW91dCBjb25maWd1cmVzIHRoZSByZXF1ZXN0IGRpc2NvdmVyeSB0aW1lb3V0LCBkZWZhdWx0cyB0byBjb25maWd1cmVkIGRpc2NvdmVyeSB0aW1lb3V0CmZ1bmMgKHAgKnt7IC5EREwuTWV0YWRhdGEuTmFtZSB8IFNuYWtlVG9DYW1lbCB9fUNsaWVudCkgT3B0aW9uRGlzY292ZXJ5VGltZW91dCh0IHRpbWUuRHVyYXRpb24pICp7eyAuRERMLk1ldGFkYXRhLk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1DbGllbnQgewoJcC5Mb2NrKCkKCWRlZmVyIHAuVW5sb2NrKCkKCglwLmNsaWVudFJQQ09wdHMgPSBhcHBlbmQocC5jbGllbnRSUENPcHRzLCBycGNjbGllbnQuRGlzY292ZXJ5VGltZW91dCh0KSkKCXJldHVybiBwCn0KCi8vIE9wdGlvbkxpbWl0TWV0aG9kIGNvbmZpZ3VyZXMgdGhlIG1ldGhvZCB0byB1c2Ugd2hlbiBsaW1pdGluZyB0YXJnZXRzIC0gInJhbmRvbSIgb3IgImZpcnN0IgpmdW5jIChwICp7eyAuRERMLk1ldGFkYXRhLk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1DbGllbnQpIE9wdGlvbkxpbWl0TWV0aG9kKG0gc3RyaW5nKSAqe3sgLkRETC5NZXRhZGF0YS5OYW1lIHwgU25ha2VUb0NhbWVsIH19Q2xpZW50IHsKCXAuTG9jaygpCglkZWZlciBwLlVubG9jaygpCgoJcC5jbGllbnRSUENPcHRzID0gYXBwZW5kKHAuY2xpZW50UlBDT3B0cywgcnBjY2xpZW50LkxpbWl0TWV0aG9kKG0pKQoJcmV0dXJuIHAKfQoKLy8gT3B0aW9uTGltaXRTaXplIHNldHMgbGltaXRzIG9uIHRoZSB0YXJnZXRzLCBlaXRoZXIgYSBudW1iZXIgb2YgYSBwZXJjZW50YWdlIGxpa2UgIjEwJSIKZnVuYyAocCAqe3sgLkRETC5NZXRhZGF0YS5OYW1lIHwgU25ha2VUb0NhbWVsIH19Q2xpZW50KSBPcHRpb25MaW1pdFNpemUocyBzdHJpbmcpICp7eyAuRERMLk1ldGFkYXRhLk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1DbGllbnQgewoJcC5Mb2NrKCkKCWRlZmVyIHAuVW5sb2NrKCkKCglwLmNsaWVudFJQQ09wdHMgPSBhcHBlbmQocC5jbGllbnRSUENPcHRzLCBycGNjbGllbnQuTGltaXRTaXplKHMpKQoJcmV0dXJuIHAKfQoKLy8gT3B0aW9uTGltaXRTZWVkIHNldHMgdGhlIHJhbmRvbSBzZWVkIHVzZWQgdG8gc2VsZWN0IHRhcmdldHMgd2hlbiBsaW1pdGluZyBhbmQgbGltaXQgbWV0aG9kIGlzICJyYW5kb20iCmZ1bmMgKHAgKnt7IC5EREwuTWV0YWRhdGEuTmFtZSB8IFNuYWtlVG9DYW1lbCB9fUNsaWVudCkgT3B0aW9uTGltaXRTZWVkKHMgaW50NjQpICp7eyAuRERMLk1ldGFkYXRhLk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1DbGllbnQgewoJcC5Mb2NrKCkKCWRlZmVyIHAuVW5sb2NrKCkKCglwLmNsaWVudFJQQ09wdHMgPSBhcHBlbmQocC5jbGllbnRSUENPcHRzLCBycGNjbGllbnQuTGltaXRTZWVkKHMpKQoJcmV0dXJuIHAKfQoKLy8gT3B0aW9uVGFyZ2V0cyBzZXRzIHNwZWNpZmljIG5vZGUgdGFyZ2V0cyB3aGljaCB3b3VsZCBhdm9pZCBkaXNjb3ZlcnkgZm9yIGFsbCBhY3Rpb24gY2FsbHMgdW50aWwgcmVzZXQKZnVuYyAocCAqe3sgLkRETC5NZXRhZGF0YS5OYW1lIHwgU25ha2VUb0NhbWVsIH19Q2xpZW50KSBPcHRpb25UYXJnZXRzKHQgW11zdHJpbmcpICp7eyAuRERMLk1ldGFkYXRhLk5hbWUgfCBTbmFrZVRvQ2FtZWwgfX1DbGllbnQgewoJcC5Mb2NrKCkKCWRlZmVyIHAuVW5sb2NrKCkKCglwLnRhcmdldHMgPSB0CglyZXR1cm4gcAp9Cg==",
}
